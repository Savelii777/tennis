import { PrismaService } from '../../../../prisma/prisma.service';
export declare class ReferralsRepository {
    private readonly prisma;
    constructor(prisma: PrismaService);
    findUserById(id: number): Promise<({
        referralStats: {
            id: number;
            updatedAt: Date;
            createdAt: Date;
            userId: number;
            totalInvited: number;
            activeInvited: number;
            registeredToday: number;
            registeredThisWeek: number;
            registeredThisMonth: number;
            achievementsEarned: string[];
            bonusPointsEarned: number;
        } | null;
    } & {
        firstName: string;
        lastName: string | null;
        sportType: string | null;
        id: number;
        telegramId: string;
        username: string;
        isVerified: boolean;
        role: import(".prisma/client").$Enums.Role;
        countryCode: string | null;
        cityId: number | null;
        sportId: number | null;
        updatedAt: Date;
        createdAt: Date;
        authSource: import(".prisma/client").$Enums.AuthSource;
        lastLogin: Date | null;
        ballsBalance: number;
        casesOpened: number;
        telegramChatId: bigint | null;
        referralCode: string | null;
        referredBy: number | null;
    }) | null>;
    findUserByReferralCode(referralCode: string): Promise<{
        firstName: string;
        lastName: string | null;
        id: number;
        username: string;
        referralCode: string | null;
    } | null>;
    updateUserReferralCode(userId: number, referralCode: string): Promise<{
        referralStats: {
            id: number;
            updatedAt: Date;
            createdAt: Date;
            userId: number;
            totalInvited: number;
            activeInvited: number;
            registeredToday: number;
            registeredThisWeek: number;
            registeredThisMonth: number;
            achievementsEarned: string[];
            bonusPointsEarned: number;
        } | null;
    } & {
        firstName: string;
        lastName: string | null;
        sportType: string | null;
        id: number;
        telegramId: string;
        username: string;
        isVerified: boolean;
        role: import(".prisma/client").$Enums.Role;
        countryCode: string | null;
        cityId: number | null;
        sportId: number | null;
        updatedAt: Date;
        createdAt: Date;
        authSource: import(".prisma/client").$Enums.AuthSource;
        lastLogin: Date | null;
        ballsBalance: number;
        casesOpened: number;
        telegramChatId: bigint | null;
        referralCode: string | null;
        referredBy: number | null;
    }>;
    createUserWithReferrer(userData: any): Promise<{
        profile: {
            city: string | null;
            preferredCourt: string | null;
            dominantHand: string | null;
            preferredPlayTime: string[];
            playsInTournaments: boolean;
            weeklyPlayFrequency: string | null;
            id: number;
            countryCode: string | null;
            updatedAt: Date;
            createdAt: Date;
            achievements: import("@prisma/client/runtime/library").JsonValue | null;
            userId: number;
            avatarUrl: string | null;
            ntrpRating: number | null;
            ratingPoints: number;
            matchesPlayed: number;
            matchWins: number;
            matchLosses: number;
            tournamentsPlayed: number;
            tournamentsWon: number;
            lastActivity: Date | null;
            isPublicProfile: boolean;
            backhandType: string | null;
            preferredSurface: string | null;
            playingStyle: string | null;
            favoriteShot: string | null;
            racket: string | null;
            opponentPreference: string | null;
            initialRatingPoints: number | null;
            selfAssessedLevel: string | null;
            profileStepOneCompleted: boolean;
            profileStepTwoCompleted: boolean;
        } | null;
        referrer: {
            firstName: string;
            id: number;
            username: string;
        } | null;
    } & {
        firstName: string;
        lastName: string | null;
        sportType: string | null;
        id: number;
        telegramId: string;
        username: string;
        isVerified: boolean;
        role: import(".prisma/client").$Enums.Role;
        countryCode: string | null;
        cityId: number | null;
        sportId: number | null;
        updatedAt: Date;
        createdAt: Date;
        authSource: import(".prisma/client").$Enums.AuthSource;
        lastLogin: Date | null;
        ballsBalance: number;
        casesOpened: number;
        telegramChatId: bigint | null;
        referralCode: string | null;
        referredBy: number | null;
    }>;
    createReferralActivity(data: any): Promise<{
        id: number;
        updatedAt: Date;
        createdAt: Date;
        isActive: boolean;
        referrerId: number;
        invitedUserId: number;
        registeredAt: Date;
        firstMatchAt: Date | null;
        inviteSource: string | null;
        ipAddress: string | null;
    }>;
    updateReferralActivity(id: number, data: any): Promise<{
        id: number;
        updatedAt: Date;
        createdAt: Date;
        isActive: boolean;
        referrerId: number;
        invitedUserId: number;
        registeredAt: Date;
        firstMatchAt: Date | null;
        inviteSource: string | null;
        ipAddress: string | null;
    }>;
    findReferralActivityByUser(userId: number): Promise<{
        id: number;
        updatedAt: Date;
        createdAt: Date;
        isActive: boolean;
        referrerId: number;
        invitedUserId: number;
        registeredAt: Date;
        firstMatchAt: Date | null;
        inviteSource: string | null;
        ipAddress: string | null;
    } | null>;
    getReferralStats(userId: number): Promise<{
        id: number;
        updatedAt: Date;
        createdAt: Date;
        userId: number;
        totalInvited: number;
        activeInvited: number;
        registeredToday: number;
        registeredThisWeek: number;
        registeredThisMonth: number;
        achievementsEarned: string[];
        bonusPointsEarned: number;
    } | null>;
    updateReferralStats(userId: number, data: any): Promise<{
        id: number;
        updatedAt: Date;
        createdAt: Date;
        userId: number;
        totalInvited: number;
        activeInvited: number;
        registeredToday: number;
        registeredThisWeek: number;
        registeredThisMonth: number;
        achievementsEarned: string[];
        bonusPointsEarned: number;
    }>;
    getUserReferrals(userId: number): Promise<({
        invitedUser: {
            firstName: string;
            lastName: string | null;
            id: number;
            username: string;
        };
    } & {
        id: number;
        updatedAt: Date;
        createdAt: Date;
        isActive: boolean;
        referrerId: number;
        invitedUserId: number;
        registeredAt: Date;
        firstMatchAt: Date | null;
        inviteSource: string | null;
        ipAddress: string | null;
    })[]>;
    getReferralActivity(userId: number): Promise<{
        id: number;
        updatedAt: Date;
        createdAt: Date;
        isActive: boolean;
        referrerId: number;
        invitedUserId: number;
        registeredAt: Date;
        firstMatchAt: Date | null;
        inviteSource: string | null;
        ipAddress: string | null;
    }[]>;
    getTopReferrers(limit: number): Promise<({
        user: {
            firstName: string;
            lastName: string | null;
            id: number;
            username: string;
        };
    } & {
        id: number;
        updatedAt: Date;
        createdAt: Date;
        userId: number;
        totalInvited: number;
        activeInvited: number;
        registeredToday: number;
        registeredThisWeek: number;
        registeredThisMonth: number;
        achievementsEarned: string[];
        bonusPointsEarned: number;
    })[]>;
    getTotalUsersCount(): Promise<number>;
    getUsersWithReferralsCount(): Promise<number>;
    getTotalReferralActivitiesCount(): Promise<number>;
    getActiveReferralsCount(): Promise<number>;
    getRegistrationsByPeriod(start: Date, end: Date): Promise<number>;
}
